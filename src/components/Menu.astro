---
import "@/styles/globals.css";
---

<div class="menu-container">
  <div class="menu-item"></div>
  <div class="menu-item"></div>
  <div class="menu-item"></div>
</div>
<style>
  .menu-container {
    position: sticky;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    top: 100vh;
    width: 3rem;
    height: 3rem;
    margin-left: auto;
    margin-right: 2rem;
    border: 2px solid #6366f1;
    border-radius: 2rem;
    animation: container-reverse 0.3s ease-in-out forwards 1;
  }

  .menu-container.active {
    animation: container 0.3s ease-in-out forwards 1;
  }

  .menu-item {
    width: 1.5rem;
    height: 0.25rem;
    margin: 0.1rem 0;
    background-color: #4c4c55;
    animation: item-reverse 0.3s ease-in-out forwards 1;
  }

  .menu-item.active {
    animation: item 0.3s ease-in-out forwards 1;
  }

  @keyframes container {
    0% {
      width: 3rem;
      height: 3rem;
      border-radius: 2rem;
    }
    90% {
      width: calc(100vw - 5rem);
      height: auto;
      border-radius: 1rem;
    }
    100% {
      width: calc(100vw - 5rem);
      height: auto;
      border-radius: 1rem;
    }
  }

  @keyframes container-reverse {
    0% {
      width: calc(100vw - 5rem);
      height: auto;
      border-radius: 1rem;
    }
    10% {
      width: calc(100vw - 5rem);
      height: auto;
      border-radius: 1rem;
    }
    100% {
      width: 3rem;
      height: 3rem;
      border-radius: 2rem;
    }
  }

  @keyframes item {
    0% {
      width: 1.5rem;
      height: 0.25rem;
    }
    100% {
      width: calc(80vw - 5rem);
      height: 1rem;
      border-radius: 1rem;
    }
  }

  @keyframes item-reverse {
    0% {
      width: calc(80vw - 5rem);
      height: 1rem;
      border-radius: 1rem;
    }
    100% {
      width: 1.5rem;
      height: 0.25rem;
    }
  }
</style>
<script>
  const menuContainer = document.querySelector(".menu-container");
  const menuItems = document.querySelectorAll(".menu-item");

  menuContainer?.addEventListener("click", () => {
    menuContainer.classList.toggle("active");
    menuItems.forEach((item) => item.classList.toggle("active"));
  });
</script>
